(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tcg_pvc_ePayForm"],{"0f31":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("form",{attrs:{action:t.actionAddress,method:"post",target:"_blank"}},[a("input",{attrs:{name:"billStmt",type:"hidden"},domProps:{value:t.xmlData}}),a("input",{directives:[{name:"show",rawName:"v-show",value:this.shouldShowButton,expression:"this.shouldShowButton"}],staticClass:"button external",style:t.buttonStyle,attrs:{type:"submit"},domProps:{value:this.$props.slots.text}})])},s=[],o=a("4cd6"),r=a("a4bb"),i=a.n(r),l=a("340b"),u=a("74a0"),c=a.n(u),p=function(t){if(console.log("generate billing xml",t),i()(t).length<1)return"";var e=Object(l["format"])(new Date,"YYYY-MM-DDTHH:mm:ssZ"),a='<?xml version="1.0" encoding="utf-16"?>\n<BillingStatement xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">\n  <ApplicationID>fcd68fd2-e923-4b03-a0e7-a678c2ed612a</ApplicationID>\n  <AccountNumber />\n  <BillNumber>'.concat(t.balances.accountNum,"</BillNumber>\n  <StatementNumber />\n  <BillingDate>").concat(e,"</BillingDate>\n  <DueDate>").concat(e,"</DueDate>\n  <TotalDue>").concat(t.totalDue,"</TotalDue>\n  <DepartMentId>0</DepartMentId>\n  <Fund>0</Fund>\n  <PaymentDate>0001-01-01T00:00:00</PaymentDate>\n  <Quantity>0</Quantity>\n  <ItemAmount>0</ItemAmount>\n  <TotalAmountdue>0</TotalAmountdue>\n  <PartialPaymentFlag>false</PartialPaymentFlag>\n  <ReceiptpresentFlag>false</ReceiptpresentFlag>\n  <Details>\n    <BillingStatementDetail>\n      <ItemDate>").concat(e,"</ItemDate>\n      <ItemDescription>Real Estate Tax</ItemDescription>\n      <Charges>").concat(t.totalDue,"</Charges>\n      <Credits>0</Credits>\n    </BillingStatementDetail>\n  </Details>\n  <Customers>\n    <Customer>\n      <FirstName>").concat(t.balances.property.ownerName,"</FirstName>\n      <MiddleName />\n      <LastName />\n      <BillingAddress>\n        <Address>\n          <AddressLine1>").concat(t.address.streetAddress,"</AddressLine1>\n          <City>PHILADELPHIA</City>\n          <State>PA</State>\n          <PostalCode>").concat(t.address.zipCode,"</PostalCode>\n          <Country>US</Country>\n        </Address>\n      </BillingAddress>\n    </Customer>\n  </Customers>\n</BillingStatement>\n  ");return c()(a)},d=["principal","interest","penalty","other"],m={mixins:[o["a"]],data:function(){var t={parseData:{accountNum:this.$store.state.sources.tips.data.data.accountNum,totalDue:"",balances:this.$store.state.sources.tips.data.data,address:{streetAddress:this.$store.state.sources.tips.data.data.property.address,zipCode:this.$store.state.geocode.data.properties.zip_code}},xmlData:{},buttonStyle:"height: "+this.$props.options.height+"px;       width: "+this.$props.options.width+"px;       font-size: "+this.$props.options.fontSize+"px;       ",actionAddress:this.$props.options.actionAddress||"https://test-secure.phila.gov/PaymentCenter/Gateway1/InitiatePurchase.aspx"};return t},created:function(){this.parseData.totalDue=this.calculateTotalDue(),this.$store.commit("setPropertyBalance",this.parseData.totalDue),this.xmlData=p(this.parseData)},computed:{message:function(){if(this.$props.slots)return this.evaluateSlot(this.$props.slots.text)},class:function(){if(this.$props.options)return this.$props.options.class||""},style:function(){if(this.$props.options)return this.$props.options.style||""},shouldShowButton:function(){return this.parseData.totalDue>0}},methods:{calculateTotalDue:function(){var t=this;return this.parseData.balances.years.reduce(function(e,a){var n=t.calculateTotalForYear(a);return e+n},0)},calculateTotalForYear:function(t){var e=d.map(function(e){return t[e]});return e.reduce(function(t,e){return t+e},0)}}},h=m,D=a("2877"),f=Object(D["a"])(h,n,s,!1,null,"02d90be5",null);e["default"]=f.exports},"74a0":function(t,e,a){"use strict";
/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var n=/["'&<>]/;function s(t){var e,a=""+t,s=n.exec(a);if(!s)return a;var o="",r=0,i=0;for(r=s.index;r<a.length;r++){switch(a.charCodeAt(r)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#39;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}i!==r&&(o+=a.substring(i,r)),i=r+1,o+=e}return i!==r?o+a.substring(i,r):o}t.exports=s}}]);
//# sourceMappingURL=tcg_pvc_ePayForm.5095b359.js.map